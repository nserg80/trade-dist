"use strict";var APP=window.APP||{};APP.Plugins=APP.Plugins||{},APP.Components=APP.Components||{},function(t){t.Initilizer=function(){var e={init:function(){e.initPlugins(),e.initComponents()},initPlugins:function(){t.Plugins.CustomSelect.init(),t.Plugins.Validator.init(),t.Plugins.Slider.init(),t.Plugins.Tabs.init(),t.Plugins.Micromodal.init(),t.Plugins.DatePicker.init()},initComponents:function(){t.Components.Header.init(),t.Components.Footer.init(),t.Components.Calculator.init(),t.Components.FixedMenu.init(),t.Components.GetMoney.init()}};return e},window.onload=function(){t.Initilizer().init(),document.querySelector("body").classList.add("is-ready")}}(window.APP),window.APP.Plugins.CustomSelect={init:function(){this.custom(),this.choice()},custom:function(){customSelect(document.querySelectorAll(".custom-select"))},choice:function(){document.querySelector(".js-choice[multiple]")&&document.querySelectorAll(".js-choice[multiple]").forEach(function(e){new Choices(e,{removeItemButton:!0,searchEnabled:!1,itemSelectText:"Нажмите для выбора",placeholderValue:"Выберите вид оплаты",maxItemCount:5,maxItemText:function(e){return"Может быть дорбавлено не более ".concat(e," значений")}})})}},window.APP.Plugins.DatePicker={data:{elements:document.querySelectorAll(".datepicker")},init:function(){this.generate(),this.button()},generate:function(){this.data.elements.forEach(function(e){new Litepicker({element:e.querySelector('input[name="datepicker"]'),position:"bottom right",singleMode:!1,lang:"ru-RU",format:"DD-MM-YYYY",numberOfColumns:2,numberOfMonths:2,showTooltip:!1,startDate:Date.now(),endDate:Date.now(),plugins:["mobilefriendly"]})})},button:function(){this.data.elements.forEach(function(e){e.querySelector(".btn-filter").addEventListener("click",function(){e.querySelector('input[name="datepicker"]').click()})})}},window.APP.Plugins.Micromodal={init:function(){this.trigger()},trigger:function(){MicroModal.init({disableScroll:!0,awaitOpenAnimation:!1,awaitCloseAnimation:!1,onShow:function(e){},onClose:function(e){event.preventDefault(),event.stopPropagation()}})},change:function(e){event.target.closest(".modal-overlay").click(),MicroModal.show(e,{disableScroll:!0,onShow:function(e){},onClose:function(e){}})},close:function(){event.target.closest(".modal-overlay").click()}},window.APP.Plugins.Slider={init:function(){this.generate()},generate:function(){document.querySelectorAll("[data-slider]").forEach(function(e){new Swiper(e,{slidesPerView:parseInt(e.dataset.slides)||1,spaceBetween:parseInt(e.dataset.space)||0,watchSlidesProgress:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},breakpoints:{1200:{slidesPerView:parseInt(e.dataset.slides),spaceBetween:parseInt(e.dataset.space)},576:{slidesPerView:2,spaceBetween:30},375:{slidesPerView:1,spaceBetween:0}}})})}},window.APP.Plugins.Tabs={data:{contentBlocks:document.querySelectorAll(".tabs .tabs-content"),navBlocks:document.querySelectorAll(".tabs .tabs-nav")},init:function(){this.generate(),this.change(),this.changeSelect()},generate:function(){this.data.contentBlocks.forEach(function(e){e.querySelector(".tabs-item").classList.add("active")}),this.data.navBlocks.forEach(function(e){e.querySelector("a").classList.add("active")})},change:function(){var t=this;this.data.navBlocks.forEach(function(i){var e=i.querySelectorAll("a"),o=t.data.contentBlocks;[].forEach.call(e,function(t,e,n){t.addEventListener("click",function(){[].forEach.call(n,function(e){e==this?e.classList.add("active"):e.classList.remove("active")},this),o.forEach(function(e){e.querySelectorAll(".tabs-item").forEach(function(e){e.dataset.tab==t.getAttribute("href")?e.classList.add("active"):e.classList.remove("active")})});var e=i.querySelector(".custom-select").customSelect;e.select.value=t.getAttribute("href"),e.opener.querySelector("span").innerHTML=t.innerHTML})})})},changeSelect:function(){var n=this;this.data.navBlocks.forEach(function(e){var t=e.querySelector(".custom-select").customSelect.select;t.addEventListener("change",function(e){n.data.contentBlocks.forEach(function(e){e.querySelectorAll(".tabs-item").forEach(function(e){e.dataset.tab==t.value?e.classList.add("active"):e.classList.remove("active")})})})})}},window.APP.Plugins.Validator={data:{forms:document.querySelectorAll("form"),emailPattern:/[a-z0-9!#$%&'*+/=?^_‘{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_‘{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,4}(?:[a-z0-9-]*[a-z0-9])?/},init:function(){this.textValid(),this.numberValid(),this.emailValid(),this.passValid(),this.checkboxValid(),this.formValid()},formValid:function(){this.data.forms.forEach(function(t){var n=t.querySelectorAll("input[required]"),i=t.querySelector('[type="submit"]'),o=[];n.forEach(function(e){e.addEventListener("input",function(){o=[];for(var e=0;e<n.length;e++)n[e].classList.contains("valid")||o.push(n[e]);0==o.length?(i.removeAttribute("disabled"),t.querySelector(".error")&&t.querySelector(".error").classList.remove("is-visible")):(t.querySelector(".error")&&t.querySelector(".error").classList.add("is-visible"),i.setAttribute("disabled","disabled")),t.classList.contains("login-form")&&i.addEventListener("click",function(e){e.preventDefault()})})})})},emailValid:function(){var t=this;Array.from(document.querySelectorAll('form input[type="email"]')).forEach(function(e){e.addEventListener("input",function(){t.data.emailPattern.test(String(e.value).toLocaleLowerCase())?(e.classList.add("valid"),e.classList.remove("not-valid")):(e.classList.add("not-valid"),e.classList.remove("valid"))})})},passValid:function(){var e=document.querySelector("form .pass-input"),t=document.querySelector("form .pass-confirm");null!=e&&e.addEventListener("input",function(){e.checkValidity()?(e.classList.add("valid"),e.classList.remove("not-valid")):(e.classList.add("not-valid"),e.classList.remove("valid"))}),null!=t&&t.addEventListener("input",function(){t.checkValidity()&&t.value===e.value?(t.classList.add("valid"),t.classList.remove("not-valid")):(t.classList.add("not-valid"),t.classList.remove("valid"))})},textValid:function(){Array.from(document.querySelectorAll('form input[type="text"]')).forEach(function(e){e.addEventListener("input",function(){e.checkValidity()?(e.classList.add("valid"),e.classList.remove("not-valid")):(e.classList.add("not-valid"),e.classList.remove("valid"))})})},numberValid:function(){Array.from(document.querySelectorAll('form input[type="number"]')).forEach(function(e){e.addEventListener("input",function(){e.checkValidity()?(e.classList.add("valid"),e.classList.remove("not-valid")):(e.classList.add("not-valid"),e.classList.remove("valid"))})})},checkboxValid:function(){Array.from(document.querySelectorAll('form input[type="checkbox"]')).forEach(function(e){e.addEventListener("input",function(){e.checkValidity()?(e.classList.add("valid"),e.classList.remove("not-valid")):(e.classList.add("not-valid"),e.classList.remove("valid"))})})}},window.APP.Components.Calculator={data:{slider:document.querySelector(".calculator .calculator-price")||null,sliderValue:document.querySelector(".calculator .calculator-price-value"),buttons:document.querySelectorAll('.calculator input[type="radio"]'),result:document.querySelector(".calculator .calculator-result-value")},init:function(){null!==this.data.slider&&(this.generate(),this.calc(),this.change())},generate:function(){var n=this;noUiSlider.create(this.data.slider,{start:1e3,range:{min:150,max:1e5},step:1}),this.data.slider.noUiSlider.on("update",function(e,t){n.data.sliderValue.innerHTML=e[t]})},change:function(){var t=this;this.data.buttons.forEach(function(e){e.addEventListener("click",function(){t.calc()})}),this.data.slider.noUiSlider.on("change",function(){t.calc()})},calc:function(){var e=this.data.slider.noUiSlider.get(),t=document.querySelector('input[name="duration"]:checked').value,n=document.querySelector('input[name="percent"]:checked').value;this.data.result.innerHTML=(e*(n/100)/12*t).toFixed(2)}},window.APP.Components.Footer={init:function(){document.querySelector(".footer-account")&&this.scroll()},scroll:function(){window.addEventListener("scroll",function(){window.pageYOffset+100>document.body.scrollHeight-window.innerHeight?document.querySelector(".footer-account").classList.add("visible"):document.querySelector(".footer-account").classList.remove("visible")})}},window.APP.Components.FixedMenu={init:function(){document.querySelector(".fixed-menu")&&(this.toggle(),this.submenu())},toggle:function(){document.querySelector(".fixed-menu-btn").addEventListener("click",function(){document.querySelector(".fixed-menu").classList.toggle("open")})},submenu:function(){document.querySelectorAll(".fixed-menu-submenu").forEach(function(e){e.querySelector("button").addEventListener("click",function(){e.classList.toggle("is-open")})})}},window.APP.Components.Header={init:function(){document.querySelector(".header")&&this.scroll()},scroll:function(){window.addEventListener("scroll",function(){10<window.pageYOffset?document.querySelector(".header").classList.add("header-scroll"):document.querySelector(".header").classList.remove("header-scroll")})}},function(){var t=document.querySelector(".lang-switcher"),e=document.querySelector(".lang-switcher__opener");t&&e.addEventListener("click",function(e){t.classList.contains("active")?t.classList.remove("active"):t.classList.add("active")})}()(function(e){e.Components.GetMoney={data:{container:document.querySelectorAll(".get-money-container")},init:function(){this.generate()},generate:function(){this.data.container.forEach(function(e){var t=e.querySelector(".get-money-slider"),n=e.querySelector(".get-money-value"),e=e.querySelectorAll(".get-money-buttons button");noUiSlider.create(t,{start:0,range:{min:0,max:100},step:1,format:{to:function(e){return e},from:function(e){return e.replace(",-","")}}}),t.noUiSlider.on("update",function(e,t){n.innerHTML=e[t]+"%"}),e.forEach(function(e){e.addEventListener("click",function(){t.noUiSlider.set(e.dataset.value)})})})}}})(window.APP);